<!DOCTYPE html>
<html>

<head>

  <title>voicedots</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="cache-control" content="max-age=0" />
  <meta http-equiv="cache-control" content="no-cache" />
  <meta http-equiv="expires" content="0" />
  <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
  <meta http-equiv="pragma" content="no-cache" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
  integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
  <script
src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js">
</script>
  <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.min.js"></script>
  
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.js"></script>
<style>
    .head a{
        color: white;
    }
     .active  {
        color: grey;
    }
</style>
<meta charset="utf-8">
    <title>voice dots...</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Free HTML Templates" name="keywords">
    <meta content="Free HTML Templates" name="description">

    <!-- Favicon -->
     <base href="/">
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet"> 
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- Libraries Stylesheet -->
     <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
</head>

<body>
  {{{body}}}
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
    crossorigin="anonymous"></script>
    <script>
        const addToCart = async (id) => {
            console.log(id)
            const res = await axios.post(`/addToCart/${id}`, {
            }).then((e) => {
                console.log(e)
                if (e.data.response.duplicate) {
                    swal("Oops"+"   Item already added to the cart","warning")
                } else {
                    let count = document.getElementById('cart-count').innerHTML
                    count = parseInt(count) + 1
                    document.getElementById('cart-count').innerHTML = count
                    swal("Item added to the cart")

                }
            })
        }
        const deleteW = () => {
            window.location.reload()
        }
        const todo = async (id)=>{
            await addToCart(id)
            deleteW()
            console.log('gjghjgfhgfuyjyhfdgrfdg')
        }
        const addToWishList = async (id) => {
        const res = await axios.post(`/addToWishList/${id}`, {
        }).then((e) => {
            if (e.data.response.cart) {
                Swal.fire("Item already added to the cart")
            } else {
                if (e.data.response.added) {
                    swal("Item added to the wishlist")
                    let count = document.getElementById('wishlist-count').innerHTML
                    count = parseInt(count) + 1
                    document.getElementById('wishlist-count').innerHTML = count
                    document.getElementById('wishListIcon').style.color = '#FF0000' 
                } else {
                     swal("Item removed from wishlist")
                    let count = document.getElementById('wishlist-count').innerHTML
                    count = parseInt(count) - 1
                    document.getElementById('wishlist-count').innerHTML = count

        document.getElementById('wishListIcon').style.color = '#a9a9a9' 
                }
            }

        })
    }
    let product = document.getElementById('product-id').value
    document.product = product
    document.addEventListener('DOMContentLoaded', myWishlist, false)
    async function myWishlist(evt) {

        const res = await axios.get(`/checkWishlist/${evt.currentTarget.product}`, {}).then((e) => {
            console.log(e.data.wishList)
            if (e.data.wishList) {
                document.getElementById('wishListIcon').style.color = '#FF0000'
            } else {
                document.getElementById('wishListIcon').style.color = '#a9a9a9'
            }
        })
    }
    </script>

</body>
</html>